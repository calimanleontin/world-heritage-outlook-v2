node.revision_edit:
  path: '/node/{node}/revisions/{node_revision}/edit'
  defaults:
    _entity_form: node.edit
    _title: 'Edit revision'
  requirements:
    access: 'update'
    node: \d+
    _custom_access: '\Drupal\iucn_assessment\Plugin\Access\AssessmentAccess::assessmentEdit'
  options:
    _node_operation_route: TRUE

iucn_assessment.node.state_change:
  path: '/node/{node}/state_change'
  defaults:
    _title: 'State change'
    _controller: '\Drupal\iucn_assessment\Controller\IucnNodeController::stateChangeForm'
  requirements:
    node: \d+
    _custom_access:  '\Drupal\iucn_assessment\Plugin\Access\AssessmentAccess::assessmentStateEdit'
  options:
    _node_operation_route: TRUE
    _admin_route: TRUE

iucn_assessment.node_revision.state_change:
  path: '/node/{node}/revisions/{node_revision}/state_change'
  defaults:
    _title: 'State change'
    _controller: '\Drupal\iucn_assessment\Controller\IucnNodeController::stateChangeForm'
  requirements:
    node: \d+
    _custom_access:  '\Drupal\iucn_assessment\Plugin\Access\AssessmentAccess::assessmentStateEdit'
  options:
    _node_operation_route: TRUE
    _admin_route: TRUE

iucn_assessment.open_modal_form:
  path: '/admin/config/modal_form'
  defaults:
    _title: 'Modal Form'
    _controller: '\Drupal\iucn_assessment\Controller\DiffModalFormController::openModalForm'
  requirements:
    node: \d+
    _permission: 'administer site configuration'
  options:
    _admin_route: TRUE