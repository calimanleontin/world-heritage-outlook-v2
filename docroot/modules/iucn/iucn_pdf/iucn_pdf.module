<?php
/**
 * @file
 * This module enables iucn_pdf functionality.
 */

/**
 * Implements hook_node_update().
 */
function iucn_pdf_node_update(Drupal\node\Entity\Node $node) {
  /** @var \Drupal\node\Entity\Node $node */
  if (($node->bundle() == 'site')||($node->bundle() == 'site_assessment') && $node->isPublished()) {
    /** @var \Drupal\iucn_pdf\PrintPdf $print_pdf */
    $print_pdf = \Drupal::service('iucn_pdf.print_pdf');
    $print_pdf->addToQueue($node);
  }
}

/**
 * Implements hook_cron().
 */
function iucn_pdf_cron() {
  /** @var \Drupal\iucn_pdf\PrintPdf $print_pdf */
  $print_pdf = \Drupal::service('iucn_pdf.print_pdf');
  $print_pdf->runCron();
}
