// Media queries
@grid-mobile: ~'screen and (max-width: @{grid-float-breakpoint-max})';
@grid-desktop: ~'screen and (min-width: @{grid-float-breakpoint})';

@design-mobile: ~'screen and (max-width: @{design-breakpoint-max--mobile})';
@design-desktop: ~'screen and (min-width: @{design-breakpoint--desktop})';

@xs-only:         ~"screen and (max-width: 479px)";
// @ms-only:         ~"screen and (min-width: @{screen-ms-min}) and (max-width: @{screen-ms-max})";
@sm-only:         ~"screen and (min-width: @{screen-sm-min}) and (max-width: @{screen-sm-max})";
@md-only:         ~"screen and (min-width: @{screen-md-min}) and (max-width: @{screen-md-max})";
@lg-only:         ~"screen and (min-width: @{screen-lg-min})";

// Bootstrap mixin overrides
.label-variant(@color) {
  color: #fff;
}

.background-variant(@bg, @color) {
  background-color: @bg;
  color: @color;
  a:not([class*='chosen']) {
    color: @color;
    &:hover, &:focus, &:active {
      color: @link-hover-color;
    }
  }
}

.light-link() {
  &, a {
    color: @iucn-blue-light;
  }
}

// Generate conservation rating styling
@conservation-ratings-list: 'good', 'good-concerns', 'significant-concern', 'critical', 'data-deficient', 'coming-soon';
@conservation-ratings-color-list: @iucn-green, @iucn-green-lighter, @iucn-orange, @iucn-red, #333333, @iucn-gray;

.loop-conservation-ratings(@rules, @index: length(@conservation-ratings-list)) when (@index > 0) {
  @conservation-rating-class: e(extract(@conservation-ratings-list, @index));
  @conservation-rating-color: e(extract(@conservation-ratings-color-list, @index));
  @rules();

  // next iteration
  .loop-conservation-ratings(@rules, (@index - 1));
}

.left-bordered-heading() {
  border-left: .5em solid;
  color: @iucn-blue-dark;
  line-height: 1.6;
  padding-bottom: .3em;
  padding-left: .25em;
  text-align: left;
  @media @mobile {
    .row();
    line-height: 1.4;
  }
}

// Generate categories (?)
@conservation-categories-list: 'values', 'threats', 'protection';

.loop-conservation-categories(@rules, @index: length(@conservation-categories-list)) when (@index > 0) {
  @conservation-category-class: e(extract(@conservation-categories-list, @index));
  @rules();

  // next iteration
  .loop-conservation-categories(@rules, (@index - 1));
}

// Generate rotation angles for iucn arrow decorations
@iucn-arrows-max-no: 6;

.loop-iucn-arrows(@index: @iucn-arrows-max-no) when (@index > 0) {
  ol.iucn-list-@{index} {
    .loop-iucn-arrow(@index);
  }

  // next iteration
  .loop-iucn-arrows((@index - 1));
}

.loop-iucn-arrow(@index-inner) when (@index-inner > 0) {
  @newIndex: (@index - @index-inner + 1);
  li.iucn-arrow:nth-child(@{newIndex}):before {
    //3
    transform: rotateY(-80deg) skewY( (@newIndex - 1) * (18deg) - (9 * (@index - 1)) );
  }

  // next iteration
  .loop-iucn-arrow((@index-inner - 1));
}
.loop-iucn-arrows();
